@model IEnumerable<ZADALKHAIR.Models.Service>
@{
    ViewData["Title"] = "Services";
}
@*<div class="w-100 main-header">
        <h2 class="position-relative mx-auto item-center font-weight-bold">Our Services</h2>
    </div>*@

<div class="w-100 main-header">
    <h2 class="position-relative mx-auto item-center font-weight-bold">Our Services</h2>
</div>

<section class="container my-5" id="service">
    <div class="row">
        @foreach (var service in Model)
        {
            <div class="col-lg-4 col-md-6 col-sm-12">
                <figure class="image-block">
                    <img src="~/images/servicePic/@service.ServiceImage" />
                    <figcaption style="position: absolute">
                        <h1>@service.ServiceTitle</h1>
                        <h4>More Info</h4>
                        <div class="row justify-content-between">
                            <h5>@service.features</h5>
                            <span class="h4">@service.ServiceStartingPrice</span>
                        </div>
                        <p class="discription" >
                            @service.ServiceDiscription
                        </p>
                        <a style="background-color: #40e0d0; " asp-action="Details" asp-controller="Services" asp-route-id="@service.ServiceID"class="btn details">
                            Read More
                        </a>
                    </figcaption>
                </figure>
            </div>}
    </div>
</section>

@section Scripts {
    <script>
        let noOfChar = 150;
        let contents = document.querySelectorAll(".discription");
        contents.forEach(content => {
            if (content.textContent.length < noOfChar) {
                $(content.parentElement.children[4]).css({
                    "display": "none"
                })
            }
            else if (content.textContent.length >= noOfChar) {
                let displayText = content.textContent.slice(0, noOfChar);
                content.innerHTML = displayText;

                $(content.parentElement.children[4]).on("click", function () {
                    let moreText = content.textContent.slice(noOfChar);
                })
            }
        })

    </script>
}
